<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Dice</title>
	<style type="text/css">
		html, body {
			background: #111;
			color: #fff;
			margin: 0;
		}

		.container {
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
		}

		.number {
			font-size: 240px;
			font-family: Helvetica;
			margin-top: 48px;
		}

		.btn {
			border: 2px solid #fff;
			background: #fff;
			color: #111;
			font-size: 48px;
		}

		.btn:hover {
			cursor: pointer;
			background: #111;
			color: #fff;
		}
	</style>
</head>
<body>
	<div class="container">
		<div id="rollResult" class="number">#</div>
		<button id="rollBtn" class="btn">ROLL</button>
	</div>

	<script type="text/javascript">
		const rollResult = document.getElementById("rollResult")
		const rollBtn = document.getElementById("rollBtn")

		rollBtn.addEventListener("click", handleRoll)

		function handleRoll() {
			let start, previousTimeStamp

			function step(timeStamp) {
			    if (start === undefined) {
			      start = timeStamp
			    }

			    const elapsed = Math.floor(timeStamp - start)

			    if (elapsed < 800) {
			        previousTimeStamp = Math.floor(timeStamp)
			        updateResult()
			        window.requestAnimationFrame(step)
			    }
			}

			window.requestAnimationFrame(step)	
		}

		function updateResult() {
			result = Math.floor(Math.random() * 6) + 1
			rollResult.innerHTML = result
		}
	</script>
</body>
</html>